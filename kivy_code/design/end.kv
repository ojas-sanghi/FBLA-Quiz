#:kivy 1.11.1
#:import akivymd kivymd_extensions

<QuestionResultLabel@MDLabel>:
    text: "Question <num>: "
    halign: "right"
    font_style: "H6"
    size_hint_x: 1

    theme_text_color: "Primary"

<CorrectResultLabel@MDLabel>:
    text: "Incorrect"
    font_style: "H6"

    theme_text_color: "Custom"
    text_color: app.red_color

<EndScreen>:
    name: "end"

    MDBoxLayout:
        id: main_box
        orientation: "vertical"

        MyLabel:
            text: "Results"
            halign: "center"
            font_style: "H2"
            size_hint_y: 0.5
        
        MyLabel:
            id: results
            text: "Total Correct:"
            halign: "center"
            font_style: "H5"
            size_hint_y: 0.5
        
        AKCircularProgress:
            id: progress

            circle_color: app.green_color
            percent_color: app.green_color
            background_circle_color: 0, 0.4, 0, 1
            
            pos_hint: {"center_x": .5, "center_y": .5}
            size_hint: None, None
            size: dp(100), dp(100)
            
            start_deg: 240
            end_deg: 480
            percent_type: "relative"
            max_percent: 5
        
        MDBoxLayout:
            id: box_of_labels_box
            orientation: "vertical"
            spacing: 0
        
            MDBoxLayout:
                spacing: 0
                QuestionResultLabel:
                CorrectResultLabel:
                    id: correct1

            MDBoxLayout:
                spacing: 0
                QuestionResultLabel:
                CorrectResultLabel:
                    id: correct2
            
            MDBoxLayout:
                spacing: 0
                QuestionResultLabel:
                CorrectResultLabel:
                    id: correct3
            
            MDBoxLayout:
                spacing: 0
                QuestionResultLabel:
                CorrectResultLabel:
                    id: correct4
            
            MDBoxLayout:
                spacing: 0
                QuestionResultLabel:
                CorrectResultLabel:
                    id: correct5
        
        AnchorLayout:
            anchor_x: "center"
            MDBoxLayout:
                size_hint_x: 0.7
                padding: 50, 0, 50, 50
                spacing: 25

                MDRaisedButton:
                    text: "Print detailed results"
                    font_size: "20dp"
                    size_hint_y: 0.7
                    size_hint_x: 0.7

                    on_release: app.print_results()
                
                MDRaisedButton:
                    text: "Restart"
                    font_size: "20dp"
                    size_hint_y: 0.7
                    size_hint_x: 0.7

                    md_bg_color: 0.3, 0.8, 0.3, 1

                    on_release: root.reset(); app.restart()